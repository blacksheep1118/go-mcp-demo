# Generated with thrift-gen-http-swagger
# https://github.com/hertz-contrib/swagger-generate/blob/main/thrift-gen-http-swagger

openapi: 3.0.3
info:
    title: API generated by thrift-gen-http-swagger
    description: API description
    version: 0.0.1
paths:
    /api/v1/chat:
        post:
            tags:
                - ApiService
            description: 非流式对话
            operationId: ApiService_Chat
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/ChatRequestBody'
                    multipart/form-data:
                        schema:
                            $ref: '#/components/schemas/ChatRequestForm'
                    application/x-www-form-urlencoded:
                        schema:
                            $ref: '#/components/schemas/ChatRequestForm'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ChatResponseBody'
    /api/v1/chat/sse:
        post:
            tags:
                - ApiService
            description: 流式对话
            operationId: ApiService_ChatSSE
            parameters:
                - name: message
                  in: query
                  schema:
                    title: 用户消息
                    type: string
                    description: 用户发送的消息内容
            requestBody:
                content:
                    multipart/form-data:
                        schema:
                            $ref: '#/components/schemas/ChatSSEHandlerRequestForm'
                    application/x-www-form-urlencoded:
                        schema:
                            $ref: '#/components/schemas/ChatSSEHandlerRequestForm'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ChatSSEHandlerResponseBody'
    /api/v1/template:
        post:
            tags:
                - ApiService
            description: 示例接口 idl写好后运行make hertz-gen-api生成脚手架
            operationId: ApiService_Template
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/TemplateRequestBody'
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/TemplateResponseBody'
components:
    schemas:
        ChatRequestBody:
            title: 聊天请求
            required:
                - message
            type: object
            properties:
                message:
                    title: 用户消息
                    type: string
                    description: 用户发送的消息内容
            description: 包含用户消息的聊天请求
        ChatRequestForm:
            title: 聊天请求
            type: object
            properties:
                image:
                    title: 图片文件
                    type: string
                    description: 可选的图片文件，支持上传图片给AI分析
                    format: binary
            description: 包含用户消息的聊天请求
        ChatResponseBody:
            title: 聊天响应
            required:
                - response
            type: object
            properties:
                response:
                    title: AI回复
                    type: string
                    description: AI生成的回复内容
            description: 包含AI回复的聊天响应
        ChatSSEHandlerRequestForm:
            title: 流式聊天请求
            type: object
            properties:
                image:
                    title: 图片文件
                    type: file
                    description: 可选的图片文件，支持上传图片给AI分析
                    format: binary
            description: 包含用户消息的流式聊天请求
        ChatSSEHandlerResponseBody:
            title: 流式聊天响应
            required:
                - response
            type: object
            properties:
                response:
                    title: AI回复片段
                    type: string
                    description: AI生成的回复片段
            description: 包含AI回复片段的流式聊天响应
        TemplateRequestBody:
            title: 示例请求
            required:
                - templateId
            type: object
            properties:
                templateId:
                    title: 示范用param
                    type: string
                    description: 示范用param
            description: 示例请求
        TemplateResponseBody:
            title: 示例响应
            required:
                - user
            type: object
            properties:
                user:
                    $ref: '#/components/schemas/User'
            description: 示例响应
        User:
            title: 用户信息
            required:
                - id
                - name
            type: object
            properties:
                id:
                    title: 用户ID
                    type: string
                    description: 唯一标识用户的ID
                name:
                    title: 用户名
                    type: string
                    description: 用户的显示名称
            description: 包含用户基本信息的结构
tags:
    - name: ApiService
